<%= simple_form_for(article, html: { class: "row g-3" }) do |f| %>

    <%= f.input :link,
                as: :url,
                label: false,
                input_html: { placeholder: "https://example.com/article" } %>

    <div class="collapse" id="articleOptions">
      <div class="col-12">
        <label class="form-label">Add to Curations</label>
        <div class="form-check-group">
          <% current_user.curations.each do |curation| %>
            <div class="form-check">
              <%= check_box_tag "article[curation_ids][]", curation.id, false,
                  id: "article_curation_ids_#{curation.id}",
                  class: "form-check-input" %>
              <%= label_tag "article_curation_ids_#{curation.id}", curation.title,
                  class: "form-check-label" %>
            </div>
          <% end %>
          <% if current_user.curations.empty? %>
            <p class="text-muted small">No curations yet. Create one from the Curations page.</p>
          <% end %>
        </div>
      </div>

      <%= f.input :tags,
                  label: "Tags (comma-separated)",
                  input_html: { placeholder: "news, politics, tech" } %>

      <%= f.input :summary_prompt_id,
                  collection: current_user.summary_prompts,
                  label_method: :name,
                  value_method: :id,
                  include_blank: "None",
                  label: "Summary Prompt" %>
    </div>

  <div class="col-12 d-flex gap-2">
    <%= f.button :submit, "Add Article", class: "btn btn-primary" %>
    <button type="button"
            class="btn btn-outline-primary"
            data-bs-toggle="collapse"
            data-bs-target="#articleOptions"
            aria-expanded="false"
            aria-controls="articleOptions">
      Options
    </button>
  </div>
<% end %>
